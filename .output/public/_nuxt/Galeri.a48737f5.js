import{_ as B,i as o,G as D,O as M,V as E,j as w,u as F,c as r,b as u,w as T,a as e,F as x,n as V,l as i,q as $,r as k,o as n,t as C,p as A,f as N}from"./entry.fa47fe52.js";import{_ as O}from"./BreadCrumb.083684dd.js";import{P as R}from"./photoswipe.2681c699.js";const f=d=>(A("data-v-af664099"),d=d(),N(),d),U={class:"animate-fade flex-1 px-[2rem] sm:px-[6rem] md:px-[3rem] lg:px-[10rem] xl:px-[14rem] pt-6"},j=f(()=>e("span",null,"Galeri Desa",-1)),q={class:"pb-[1rem]"},H=f(()=>e("h1",{class:"mb-2 font-semibold text-[#0088CC] text-2xl"},"Galeri Video",-1)),Y={class:"grid grid-cols-1 md:grid-cols-3 md:gap-[2rem]"},J=["src"],K={class:"rounded-b-lg py-3 px-2 font-medium text-base md:text-lg backdrop-blur-sm bg-white/30 shadow-sm border border-slate-100"},Q={class:"line-clamp-1"},W={class:"pb-[6rem]"},X=f(()=>e("h1",{class:"mb-8 font-semibold text-[#0088CC] text-2xl"},"Galeri Foto",-1)),Z={id:"gallery",class:"grid grid-cols-1 md:grid-cols-3 gap-[2rem] md:gap-y-[2rem]"},ee=["href"],ae={class:"rounded-b-lg py-3 px-2 font-medium text-base md:text-lg backdrop-blur-sm bg-white/30 shadow-sm border border-slate-100"},te={class:"line-clamp-1"},le={__name:"Galeri",async setup(d){let c,m;const p=o(null),_=o([]),g=o([]),t=o(1),v=o(0),b=o(0);D(async()=>{await M(()=>{p.value||(p.value=new R({gallery:"#gallery",children:"a",pswpModule:()=>E(()=>import("./photoswipe.esm.3ee328cd.js"),[],import.meta.url)}),p.value.init())})});async function G(){const{data:l,total:s}=await $fetch(`/api/image-gallery?limit=9&page=${t.value}`);_.value=l,b.value=Math.ceil(s/9)}async function I(){const{data:l,total:s}=await $fetch(`/api/video-gallery?limit=3&page=${t.value}`);g.value=l,v.value=Math.ceil(s/3)}[c,m]=w(()=>I()),await c,m(),[c,m]=w(()=>G()),await c,m();async function z(){const{data:l}=await $fetch(`/api/video-gallery?limit=3&page=${t.value}`);g.value=l}async function P(){const{data:l}=await $fetch(`/api/image-gallery?limit=9&page=${t.value}`);_.value=l}return F({title:"Galeri Desa"}),(l,s)=>{const L=O,y=k("v-pagination"),S=k("v-img");return n(),r("div",U,[u(L,null,{root:T(()=>[j]),_:1}),e("div",q,[H,e("div",Y,[(n(!0),r(x,null,V(i(g),(a,h)=>(n(),r("a",{class:"relative w-full rounded-lg animate-fade",key:h,target:"_blank",rel:"noreferrer"},[e("iframe",{class:"mt-6 rounded-t-lg shadow-sm",width:"100%",height:"245",loading:"lazy",src:a.url,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,J),e("div",K,[e("span",Q,C(a.description),1)])]))),128))]),u(y,{size:l.$vuetify.display.mobile?"small":"default",class:"mt-4 mb-6 md:mb-10",modelValue:i(t),"onUpdate:modelValue":[s[0]||(s[0]=a=>$(t)?t.value=a:null),z],"total-visible":5,length:i(v)},null,8,["size","modelValue","length"])]),e("div",W,[X,e("div",Z,[(n(!0),r(x,null,V(i(_),(a,h)=>(n(),r("a",{class:"w-full cursor-pointer rounded-lg",key:h,href:a.url,"data-pswp-width":"600","data-pswp-height":"400",target:"_blank",rel:"noreferrer"},[u(S,{"lazy-src":a.url,class:"w-full rounded-t-lg",height:"300",src:a.url,alt:""},null,8,["lazy-src","src"]),e("div",ae,[e("span",te,C(a.description),1)])],8,ee))),128))]),u(y,{size:l.$vuetify.display.mobile?"small":"default",class:"mt-4 mb-6 md:mb-10",modelValue:i(t),"onUpdate:modelValue":[s[1]||(s[1]=a=>$(t)?t.value=a:null),P],"total-visible":5,length:i(b)},null,8,["size","modelValue","length"])])])}}},re=B(le,[["__scopeId","data-v-af664099"]]);export{re as default};
