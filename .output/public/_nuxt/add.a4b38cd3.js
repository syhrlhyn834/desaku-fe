import b from"./button.esm.de118b49.js";import{c as v,_ as k}from"./RichEditor.client.1608168f.js";import{_ as w}from"./Loader.8f366148.js";import{$ as y,b as r,l as a,w as l,i as e,c as u,e as C,F as x,r as s,o as i}from"./entry.ad1a8891.js";import{c as V}from"./createSlug.32ba2e5c.js";import"./badge.esm.a8bb659d.js";import"./basecomponent.esm.1e1342cd.js";import"./index.esm.cdfd46e0.js";import"./baseicon.esm.2538c2f4.js";const T=v(k),R={class:"flex items-center justify-between"},B=e("div",{class:"text-xl font-semibold"},[e("span",null,"Hapus Thumbnail?")],-1),E=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 24 24"},[e("g",{fill:"none",stroke:"black","stroke-width":"1.5"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{"stroke-linecap":"round",d:"m14.5 9.5l-5 5m0-5l5 5"})])],-1),P=[E],$=e("div",null,[e("span",null,"Thumbnail akan dihapus dari server, apakah anda yakin untuk menghapusnya?")],-1),N={class:"w-full flex justify-end"},S={class:"grid"},U={class:"col-12"},j={class:"card"},F=e("h3",{class:"text-2xl font-medium mb-5"},"Tambah Pengumuman",-1),H={class:"grid grid-cols-1 gap-3"},O={class:"col-span-1"},A={class:"mt-5"},D=e("div",{class:"mb-3 text-lg font-medium my-1"},"Konten",-1),J={key:0},K={data(){return{modalRemoveThumbnail:!1,image:null,categories:[],renderRichEditor:!1,thumbnailDeleted:!1,thumbnailUploaded:!1,data:null,form:{title:null,description:null,content:null,thumbnail:null},headers:[{title:"Title",align:"start",sortable:!1,key:"title"},{title:"Content",align:"end",key:"content"}],items:[],loading:!1}},async mounted(){this.renderRichEditor=!0},methods:{async addAnnouncement(){this.loading=!0,this.form.content=this.data,this.form.slug=V(this.form.title),await $fetch("http://api.desaku.muhichsan.com/api/announcement",{method:"POST",body:this.form}),this.loading=!1,this.$router.push("/dashboard/announcement")},contentChange(d){this.data=d}}},Y=Object.assign(K,{__name:"add",setup(d){return y({title:"Tambah Pengumuman"}),(t,n)=>{const m=b,c=s("v-card"),h=s("v-dialog"),p=s("v-text-field"),_=s("v-textarea"),f=T,g=w;return i(),r(x,null,[a(h,{modelValue:t.modalRemoveThumbnail,"onUpdate:modelValue":n[1]||(n[1]=o=>t.modalRemoveThumbnail=o),width:"auto"},{default:l(()=>[a(c,{height:"auto",style:{"scrollbar-width":"none"}},{title:l(()=>[e("div",R,[B,e("div",{onClick:n[0]||(n[0]=o=>t.modalRemoveThumbnail=!1),class:"cursor-pointer"},P)])]),text:l(()=>[$]),actions:l(()=>[e("div",N,[a(m,{onClick:t.removeThumbnailNews,class:"w-fit mt-6 bg-[#FC4100] text-white px-3 mx-1 mb-2 py-2 text-md",label:"Hapus"},null,8,["onClick"])])]),_:1})]),_:1},8,["modelValue"]),e("div",S,[e("div",U,[e("div",j,[F,e("div",H,[e("div",O,[a(p,{modelValue:t.form.title,"onUpdate:modelValue":n[2]||(n[2]=o=>t.form.title=o),variant:"outlined","hide-details":"auto",label:"Judul Pengumuman"},null,8,["modelValue"])])]),e("div",A,[a(_,{rows:"3",variant:"outlined",label:"Deskripsi Pengumuman",clearable:"",modelValue:t.form.description,"onUpdate:modelValue":n[3]||(n[3]=o=>t.form.description=o)},null,8,["modelValue"])]),D,t.renderRichEditor?(i(),u(f,{key:0,data:t.data,onContentChange:t.contentChange},null,8,["data","onContentChange"])):C("",!0),a(m,{onClick:t.addAnnouncement,class:"mt-5 bg-[#10B981] text-white px-3 py-2",label:"Submit"},{default:l(()=>[t.loading?(i(),u(g,{key:1})):(i(),r("span",J,"Submit"))]),_:1},8,["onClick"])])])])],64)}}});export{Y as default};
