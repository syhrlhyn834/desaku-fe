import{_ as g}from"./RichEditor.e135f505.js";import{_ as v}from"./Loader.2f484b9d.js";import{u as b,c as d,a,b as s,w as r,f as c,l as k,d as C,r as i,o as l}from"./entry.287ce2af.js";import{c as y}from"./createSlug.32ba2e5c.js";const V={class:"grid animate-fade"},B={class:"col-12"},w={class:"card"},E=a("h3",{class:"text-2xl font-medium mb-5"},"Tambah Kegiatan",-1),K={class:"grid grid-cols-1 gap-3"},R={class:"col-span-1"},T={class:"mt-3"},$=a("div",{class:"mb-3 text-lg font-medium my-1"},"Konten",-1),x={key:0,class:"capitalize"},A={data(){return{image:null,renderRichEditor:!1,data:null,form:{title:null,description:null,content:null},headers:[{title:"Title",align:"start",sortable:!1,key:"title"},{title:"Content",align:"end",key:"content"}],items:[],loading:!1}},async mounted(){this.renderRichEditor=!0},methods:{async addAnnouncement(){const{valid:o}=await this.$refs.form.validate();o&&(this.loading=!0,this.form.content=this.data,this.form.slug=y(this.form.title),await $fetch(this.$config.public.API_PUBLIC_URL+"/api/activities",{method:"POST",headers:{Authorization:"Bearer "+C().token},body:this.form}),this.loading=!1,this.$router.push("/dashboard/activities"))},contentChange(o){this.data=o}}},S=Object.assign(A,{__name:"add",setup(o){return b({title:"Tambah Kegiatan"}),(e,n)=>{const m=i("v-text-field"),u=i("v-textarea"),_=i("v-form"),h=g,f=v,p=i("v-btn");return l(),d("div",V,[a("div",B,[a("div",w,[E,s(_,{ref:"form"},{default:r(()=>[a("div",K,[a("div",R,[s(m,{rules:[t=>!!t||"Field is required"],modelValue:e.form.title,"onUpdate:modelValue":n[0]||(n[0]=t=>e.form.title=t),variant:"outlined","hide-details":"auto",label:"Judul Kegiatan"},null,8,["rules","modelValue"])]),a("div",T,[s(u,{rules:[t=>!!t||"Field is required"],rows:"3",variant:"outlined",label:"Deskripsi Kegiatan",clearable:"",modelValue:e.form.description,"onUpdate:modelValue":n[1]||(n[1]=t=>e.form.description=t)},null,8,["rules","modelValue"])])])]),_:1},512),$,e.renderRichEditor?(l(),c(h,{key:0,data:e.data,onContentChange:e.contentChange},null,8,["data","onContentChange"])):k("",!0),s(p,{onClick:e.addAnnouncement,color:"#10B981",class:"mt-5 text-white px-3 py-2"},{default:r(()=>[e.loading?(l(),c(f,{key:1})):(l(),d("span",x,"Submit"))]),_:1},8,["onClick"])])])])}}});export{S as default};
