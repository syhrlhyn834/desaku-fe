import{_ as b}from"./RichEditor.e135f505.js";import{_ as k}from"./Loader.2f484b9d.js";import{u as w,c as m,b as a,w as s,a as e,f as u,l as y,F as C,d as T,r as l,o as d}from"./entry.287ce2af.js";import{c as V}from"./createSlug.32ba2e5c.js";const x={class:"flex items-center justify-between"},R=e("div",{class:"text-xl font-semibold"},[e("span",null,"Hapus Thumbnail?")],-1),B=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 24 24"},[e("g",{fill:"none",stroke:"black","stroke-width":"1.5"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{"stroke-linecap":"round",d:"m14.5 9.5l-5 5m0-5l5 5"})])],-1),P=[B],U=e("div",null,[e("span",null,"Thumbnail akan dihapus dari server, apakah anda yakin untuk menghapusnya?")],-1),$={class:"w-full flex justify-end"},E=e("span",{class:"capitalize"},"Hapus",-1),F={class:"grid animate-fade"},A={class:"col-12"},N={class:"card"},j=e("h3",{class:"text-2xl font-medium mb-5"},"Tambah Pengumuman",-1),z={class:"grid grid-cols-1 gap-3"},H={class:"col-span-1"},L={class:"mt-3"},S=e("div",{class:"mb-3 text-lg font-medium my-1"},"Konten",-1),q={key:0,class:"capitalize"},D={data(){return{modalRemoveThumbnail:!1,image:null,categories:[],renderRichEditor:!1,thumbnailDeleted:!1,thumbnailUploaded:!1,data:null,form:{title:null,description:null,content:null,thumbnail:null},headers:[{title:"Title",align:"start",sortable:!1,key:"title"},{title:"Content",align:"end",key:"content"}],items:[],loading:!1}},async mounted(){this.renderRichEditor=!0},methods:{async addAnnouncement(){const{valid:i}=await this.$refs.form.validate();i&&(this.loading=!0,this.form.content=this.data,this.form.slug=V(this.form.title),await $fetch(this.$config.public.API_PUBLIC_URL+"/api/announcement",{method:"POST",headers:{Authorization:"Bearer "+T().token},body:this.form}),this.loading=!1,this.$router.push("/dashboard/announcement"))},contentChange(i){this.data=i}}},G=Object.assign(D,{__name:"add",setup(i){return w({title:"Tambah Pengumuman"}),(t,n)=>{const r=l("v-btn"),c=l("v-card"),h=l("v-dialog"),_=l("v-text-field"),f=l("v-textarea"),p=l("v-form"),v=b,g=k;return d(),m(C,null,[a(h,{modelValue:t.modalRemoveThumbnail,"onUpdate:modelValue":n[1]||(n[1]=o=>t.modalRemoveThumbnail=o),width:"auto"},{default:s(()=>[a(c,{height:"auto",style:{"scrollbar-width":"none"}},{title:s(()=>[e("div",x,[R,e("div",{onClick:n[0]||(n[0]=o=>t.modalRemoveThumbnail=!1),class:"cursor-pointer"},P)])]),text:s(()=>[U]),actions:s(()=>[e("div",$,[a(r,{onClick:t.removeThumbnailNews,color:"#FC4100",class:"mt-3 text-white px-3 py-2"},{default:s(()=>[E]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["modelValue"]),e("div",F,[e("div",A,[e("div",N,[j,a(p,{ref:"form"},{default:s(()=>[e("div",z,[e("div",H,[a(_,{rules:[o=>!!o||"Field is required"],modelValue:t.form.title,"onUpdate:modelValue":n[2]||(n[2]=o=>t.form.title=o),variant:"outlined","hide-details":"auto",label:"Judul Pengumuman"},null,8,["rules","modelValue"])]),e("div",L,[a(f,{rules:[o=>!!o||"Field is required"],rows:"3",variant:"outlined",label:"Deskripsi Pengumuman",clearable:"",modelValue:t.form.description,"onUpdate:modelValue":n[3]||(n[3]=o=>t.form.description=o)},null,8,["rules","modelValue"])])])]),_:1},512),S,t.renderRichEditor?(d(),u(v,{key:0,data:t.data,onContentChange:t.contentChange},null,8,["data","onContentChange"])):y("",!0),a(r,{onClick:t.addAnnouncement,color:"#10B981",class:"mt-5 text-white px-3 py-2"},{default:s(()=>[t.loading?(d(),u(g,{key:1})):(d(),m("span",q,"Submit"))]),_:1},8,["onClick"])])])])],64)}}});export{G as default};
