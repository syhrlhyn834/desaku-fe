import{_ as B}from"./MediaLibrary.d0f72a79.js";import V from"./button.esm.de118b49.js";import{c as M,_ as S}from"./RichEditor.client.1608168f.js";import{_ as T}from"./Loader.8f366148.js";import{$ as x,b as r,l as s,w as l,i as t,e as m,c as u,F as L,r as n,o as d,a2 as p}from"./entry.ad1a8891.js";import{c as $}from"./createSlug.32ba2e5c.js";import"./badge.esm.a8bb659d.js";import"./basecomponent.esm.1e1342cd.js";import"./index.esm.cdfd46e0.js";import"./baseicon.esm.2538c2f4.js";const O=M(S),R={class:"flex items-center justify-between"},H=t("div",{class:"text-xl font-semibold"},[t("span",null,"Hapus Thumbnail?")],-1),N=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 24 24"},[t("g",{fill:"none",stroke:"black","stroke-width":"1.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{"stroke-linecap":"round",d:"m14.5 9.5l-5 5m0-5l5 5"})])],-1),z=[N],E=t("div",null,[t("span",null,"Thumbnail akan dihapus dari server, apakah anda yakin untuk menghapusnya?")],-1),j={class:"w-full flex justify-end"},U={class:"grid"},A={class:"col-12"},I={class:"card"},F=t("h3",{class:"text-2xl font-medium mb-5"},"Tambah Berita",-1),K={class:"grid grid-cols-3 gap-3"},Z={class:"col-span-2"},D=t("div",{class:"mb-3 text-lg font-medium my-1"},"Thumbnail Berita",-1),J={key:0,class:"relative w-fit"},P=p('<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 48 48"><defs><mask id="ipSCloseOne0"><g fill="none" stroke-linejoin="round" stroke-width="4"><path fill="#fff" stroke="#fff" d="M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4S4 12.954 4 24s8.954 20 20 20Z"></path><path stroke="#000" stroke-linecap="round" d="M29.657 18.343L18.343 29.657m0-11.314l11.314 11.314"></path></g></mask></defs><path fill="#A3A3A3" d="M0 0h48v48H0z" mask="url(#ipSCloseOne0)"></path></svg>',1),q=[P],G={key:1,class:"relative w-fit"},Q=p('<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 48 48"><defs><mask id="ipSCloseOne0"><g fill="none" stroke-linejoin="round" stroke-width="4"><path fill="#fff" stroke="#fff" d="M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4S4 12.954 4 24s8.954 20 20 20Z"></path><path stroke="#000" stroke-linecap="round" d="M29.657 18.343L18.343 29.657m0-11.314l11.314 11.314"></path></g></mask></defs><path fill="#10B981" d="M0 0h48v48H0z" mask="url(#ipSCloseOne0)"></path></svg>',1),W=[Q],X={class:"mb-6 mt-6"},Y=t("div",{class:"flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",viewBox:"0 0 20 20"},[t("path",{fill:"white",d:"M17.125 6.17L15.079.535c-.151-.416-.595-.637-.989-.492L.492 5.006c-.394.144-.593.597-.441 1.013l2.156 5.941V8.777c0-1.438 1.148-2.607 2.56-2.607H8.36l4.285-3.008l2.479 3.008zM19.238 8H4.767a.761.761 0 0 0-.762.777v9.42c.001.444.343.803.762.803h14.471c.42 0 .762-.359.762-.803v-9.42A.761.761 0 0 0 19.238 8M18 17H6v-2l1.984-4.018l2.768 3.436l2.598-2.662l3.338-1.205L18 14z"})]),t("div",{class:"ml-1 font-semibold"},"Media Library")],-1),ee=t("div",{class:"mb-3 text-lg font-medium my-1"},"Konten",-1),te={key:0},oe={data(){return{openMediaLibrary:!1,modalRemoveThumbnail:!1,image:null,categories:[],renderRichEditor:!1,data:null,renderRichEditor:!1,form:{title:null,description:null,category:null,slug:null,content:null,thumbnail:null},headers:[{title:"Title",align:"start",sortable:!1,key:"title"},{title:"Category",align:"start",key:"category"},{title:"Content",align:"end",key:"content"}],items:[],loading:!1}},async mounted(){await this.loadCategories();const i=await $fetch("http://api.desaku.muhichsan.com/api/news");this.items=i,this.renderRichEditor=!0},methods:{async loadCategories(){const i=await $fetch("http://api.desaku.muhichsan.com/api/news-category/");this.categories=i.map(e=>e.name)},async addNews(){this.loading=!0,this.form.content=this.data,this.form.slug=$(this.form.title),await $fetch("http://api.desaku.muhichsan.com/api/news",{method:"POST",body:this.form}),this.loading=!1,this.$router.push("/dashboard/news")},contentChange(i){this.data=i},onImageSelected(i){this.form.thumbnail=i}}},ue=Object.assign(oe,{__name:"add",setup(i){return x({title:"Tambah Berita"}),(e,o)=>{const f=B,h=V,v=n("v-card"),g=n("v-dialog"),_=n("v-text-field"),w=n("v-select"),b=n("v-textarea"),c=n("v-img"),k=n("v-btn"),y=O,C=T;return d(),r(L,null,[s(f,{onOnImageSelected:e.onImageSelected,onOnCloseModal:o[0]||(o[0]=a=>e.openMediaLibrary=!1),open:e.openMediaLibrary},null,8,["onOnImageSelected","open"]),s(g,{modelValue:e.modalRemoveThumbnail,"onUpdate:modelValue":o[2]||(o[2]=a=>e.modalRemoveThumbnail=a),width:"auto"},{default:l(()=>[s(v,{height:"auto",style:{"scrollbar-width":"none"}},{title:l(()=>[t("div",R,[H,t("div",{onClick:o[1]||(o[1]=a=>e.modalRemoveThumbnail=!1),class:"cursor-pointer"},z)])]),text:l(()=>[E]),actions:l(()=>[t("div",j,[s(h,{onClick:e.removeThumbnailNews,class:"w-fit mt-6 bg-[#FC4100] text-white px-3 mx-1 mb-2 py-2 text-md",label:"Hapus"},null,8,["onClick"])])]),_:1})]),_:1},8,["modelValue"]),t("div",U,[t("div",A,[t("div",I,[F,t("div",K,[t("div",Z,[s(_,{modelValue:e.form.title,"onUpdate:modelValue":o[3]||(o[3]=a=>e.form.title=a),variant:"outlined","hide-details":"auto",label:"Judul Berita"},null,8,["modelValue"])]),t("div",null,[s(w,{"item-value":"name","item-text":"name",modelValue:e.form.category,"onUpdate:modelValue":o[4]||(o[4]=a=>e.form.category=a),label:"Kategori Berita",items:e.categories,variant:"outlined"},null,8,["modelValue","items"])])]),t("div",null,[s(b,{rows:"3",variant:"outlined",label:"Deskripsi Berita",clearable:"",modelValue:e.form.description,"onUpdate:modelValue":o[5]||(o[5]=a=>e.form.description=a)},null,8,["modelValue"])]),D,e.thumbnailUploaded?(d(),r("div",J,[s(c,{src:e.form.thumbnail,width:"300"},null,8,["src"]),t("div",{onClick:o[6]||(o[6]=a=>e.modalRemoveThumbnail=!0),class:"absolute cursor-pointer right-3 top-3 z-50"},q)])):m("",!0),e.form.thumbnail?(d(),r("div",G,[s(c,{src:e.form.thumbnail,width:"300"},null,8,["src"]),t("div",{onClick:o[7]||(o[7]=a=>e.form.thumbnail=null),class:"absolute cursor-pointer right-3 top-3 z-50"},W)])):m("",!0),t("div",X,[s(k,{onClick:o[8]||(o[8]=a=>e.openMediaLibrary=!0),color:"#10B981",class:"flex-none text-white px-3"},{default:l(()=>[Y]),_:1})]),ee,e.renderRichEditor?(d(),u(y,{key:2,data:e.data,onContentChange:e.contentChange},null,8,["data","onContentChange"])):m("",!0),s(h,{onClick:e.addNews,class:"mt-5 bg-[#10B981] text-white px-3 py-2"},{default:l(()=>[e.loading?(d(),u(C,{key:1})):(d(),r("span",te,"Submit"))]),_:1},8,["onClick"])])])])],64)}}});export{ue as default};
