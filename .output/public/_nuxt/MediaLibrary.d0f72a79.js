import{_ as Ie}from"./Loader.8f366148.js";import{a7 as O,a6 as Se,a8 as Le,a9 as me,al as Pe,V as K,am as Te,r as B,o as E,c as le,w as x,l as I,i as d,q as ee,b as S,e as se,F as Me,f as je,k as Re,m as Be,u as ue,n as ze,g as Ve}from"./entry.ad1a8891.js";function V(e,n,t,o){function a(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function f(u){try{i(o.next(u))}catch(v){s(v)}}function p(u){try{i(o.throw(u))}catch(v){s(v)}}function i(u){u.done?r(u.value):a(u.value).then(f,p)}i((o=o.apply(e,n||[])).next())})}function G(e,n){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},o,a,r,s;return s={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(i){return function(u){return p([i,u])}}function p(i){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(t=0)),t;)try{if(o=1,a&&(r=i[0]&2?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[i[0]&2,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return t.label++,{value:i[1],done:!1};case 5:t.label++,a=i[1],i=[0];continue;case 7:i=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(i[0]===6||i[0]===2)){t=0;continue}if(i[0]===3&&(!r||i[1]>r[0]&&i[1]<r[3])){t.label=i[1];break}if(i[0]===6&&t.label<r[1]){t.label=r[1],r=i;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(i);break}r[2]&&t.ops.pop(),t.trys.pop();continue}i=n.call(e,t)}catch(u){i=[6,u],a=0}finally{o=r=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function Ge(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var o=t.call(e),a,r=[],s;try{for(;(n===void 0||n-- >0)&&!(a=o.next()).done;)r.push(a.value)}catch(f){s={error:f}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(s)throw s.error}}return r}function $e(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Ge(arguments[n]));return e}var Ne=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function q(e,n){var t=He(e);if(typeof t.path!="string"){var o=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof n=="string"?n:typeof o=="string"&&o.length>0?o:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function He(e){var n=e.name,t=n&&n.lastIndexOf(".")!==-1;if(t&&!e.type){var o=n.split(".").pop().toLowerCase(),a=Ne.get(o);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var Ue=[".DS_Store","Thumbs.db"];function We(e){return V(this,void 0,void 0,function(){return G(this,function(n){return[2,Ke(e)&&e.dataTransfer?qe(e.dataTransfer,e.type):Ye(e)]})})}function Ke(e){return!!e.dataTransfer}function Ye(e){var n=Ze(e.target)?e.target.files?te(e.target.files):[]:[];return n.map(function(t){return q(t)})}function Ze(e){return e!==null}function qe(e,n){return V(this,void 0,void 0,function(){var t,o;return G(this,function(a){switch(a.label){case 0:return e.items?(t=te(e.items).filter(function(r){return r.kind==="file"}),n!=="drop"?[2,t]:[4,Promise.all(t.map(Je))]):[3,2];case 1:return o=a.sent(),[2,ce(he(o))];case 2:return[2,ce(te(e.files).map(function(r){return q(r)}))]}})})}function ce(e){return e.filter(function(n){return Ue.indexOf(n.name)===-1})}function te(e){for(var n=[],t=0;t<e.length;t++){var o=e[t];n.push(o)}return n}function Je(e){if(typeof e.webkitGetAsEntry!="function")return fe(e);var n=e.webkitGetAsEntry();return n&&n.isDirectory?be(n):fe(e)}function he(e){return e.reduce(function(n,t){return $e(n,Array.isArray(t)?he(t):[t])},[])}function fe(e){var n=e.getAsFile();if(!n)return Promise.reject(e+" is not a File");var t=q(n);return Promise.resolve(t)}function Qe(e){return V(this,void 0,void 0,function(){return G(this,function(n){return[2,e.isDirectory?be(e):Xe(e)]})})}function be(e){var n=e.createReader();return new Promise(function(t,o){var a=[];function r(){var s=this;n.readEntries(function(f){return V(s,void 0,void 0,function(){var p,i,u;return G(this,function(v){switch(v.label){case 0:if(f.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return p=v.sent(),t(p),[3,4];case 3:return i=v.sent(),o(i),[3,4];case 4:return[3,6];case 5:u=Promise.all(f.map(Qe)),a.push(u),r(),v.label=6;case 6:return[2]}})})},function(f){o(f)})}r()})}function Xe(e){return V(this,void 0,void 0,function(){return G(this,function(n){return[2,new Promise(function(t,o){e.file(function(a){var r=q(a,e.fullPath);t(r)},function(a){o(a)})})]})})}var ye=function(e,n){if(e&&n){var t=Array.isArray(n)?n:n.split(","),o=e.name||"",a=(e.type||"").toLowerCase(),r=a.replace(/\/.*$/,"");return t.some(function(s){var f=s.trim().toLowerCase();return f.charAt(0)==="."?o.toLowerCase().endsWith(f):f.endsWith("/*")?r===f.replace(/\/.*$/,""):a===f})}return!0},m=function(){return m=Object.assign||function(n){for(var t,o=1,a=arguments.length;o<a;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},m.apply(this,arguments)};function de(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(t[o[a]]=e[o[a]]);return t}function et(e,n,t,o){function a(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function f(u){try{i(o.next(u))}catch(v){s(v)}}function p(u){try{i(o.throw(u))}catch(v){s(v)}}function i(u){u.done?r(u.value):a(u.value).then(f,p)}i((o=o.apply(e,n||[])).next())})}function tt(e,n){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},o,a,r,s;return s={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(i){return function(u){return p([i,u])}}function p(i){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(t=0)),t;)try{if(o=1,a&&(r=i[0]&2?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[i[0]&2,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return t.label++,{value:i[1],done:!1};case 5:t.label++,a=i[1],i=[0];continue;case 7:i=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(i[0]===6||i[0]===2)){t=0;continue}if(i[0]===3&&(!r||i[1]>r[0]&&i[1]<r[3])){t.label=i[1];break}if(i[0]===6&&t.label<r[1]){t.label=r[1],r=i;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(i);break}r[2]&&t.ops.pop(),t.trys.pop();continue}i=n.call(e,t)}catch(u){i=[6,u],a=0}finally{o=r=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function re(e,n,t){if(t||arguments.length===2)for(var o=0,a=n.length,r;o<a;o++)(r||!(o in n))&&(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}function rt(e){return e.includes("MSIE")||e.includes("Trident/")}function nt(e){return e.includes("Edge/")}function at(e){return e===void 0&&(e=window.navigator.userAgent),rt(e)||nt(e)}function ve(e){e.preventDefault()}function Y(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Z(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}var ot="file-invalid-type",it="file-too-large",lt="file-too-small",st="too-many-files",ut={code:st,message:"Too many files"},ct=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:ot,message:"File type must be ".concat(n)}};function z(e){return e!=null}var ft=ye.default,dt=ft||ye;function De(e,n){var t=e.type==="application/x-moz-file"||dt(e,n);return[t,t?null:ct(n)]}var pe=function(e){return{code:it,message:"File is larger than ".concat(e," bytes")}},ge=function(e){return{code:lt,message:"File is smaller than ".concat(e," bytes")}};function we(e,n,t){if(z(e.size)&&e.size)if(z(n)&&z(t)){if(e.size>t)return[!1,pe(t)];if(e.size<n)return[!1,ge(n)]}else{if(z(n)&&e.size<n)return[!1,ge(n)];if(z(t)&&e.size>t)return[!1,pe(t)]}return[!0,null]}function F(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(t){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return e.some(function(r){return!Z(t)&&r&&r.apply(void 0,re([t],o,!1)),Z(t)})}}function vt(e){var n=e.files,t=e.accept,o=e.minSize,a=e.maxSize,r=e.multiple,s=e.maxFiles;return!r&&n.length>1||r&&s>=1&&n.length>s?!1:n.every(function(f){var p=De(f,t)[0],i=we(f,o,a)[0];return p&&i})}var pt={disabled:!1,getFilesFromEvent:We,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1};function gt(e){e===void 0&&(e={});var n=O(m(m({},pt),e));Se(function(){return m({},e)},function(l){n.value=m(m({},n.value),l)});var t=O(),o=O(),a=Le({isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]}),r=function(){o.value&&(a.isFileDialogActive=!0,o.value.value="",o.value.click())},s=function(){var l=n.value.onFileDialogCancel;a.isFileDialogActive&&setTimeout(function(){if(o.value){var c=o.value.files;c&&!c.length&&(a.isFileDialogActive=!1,typeof l=="function"&&l())}},300)};function f(){a.isFocused=!0}function p(){a.isFocused=!1}function i(){var l=n.value.noClick;l||(at()?setTimeout(r,0):r())}var u=O([]),v=function(l){if(t.value){var c=t.value.$el||t.value;c.contains(l.target)||(l.preventDefault(),u.value=[])}};me(function(){window.addEventListener("focus",s,!1);var l=n.value.preventDropOnDocument;l&&(document.addEventListener("dragover",ve,!1),document.addEventListener("drop",v,!1))}),Pe(function(){window.removeEventListener("focus",s,!1);var l=n.value.preventDropOnDocument;l&&(document.removeEventListener("dragover",ve),document.removeEventListener("drop",v))});function L(l){var c=n.value.noDragEventsBubbling;c&&l.stopPropagation()}function ne(l){return et(this,void 0,void 0,function(){var c,g,y,D,w;return tt(this,function(A){switch(A.label){case 0:return c=n.value,g=c.getFilesFromEvent,y=c.noDragEventsBubbling,D=c.onDragEnter,l.preventDefault(),L(l),u.value=re(re([],u.value,!0),[l.target],!1),Y(l)?g?[4,g(l)]:[2]:[3,2];case 1:if(w=A.sent(),w||(w=[]),Z(l)&&!y)return[2];a.draggedFiles=w,a.isDragActive=!0,D&&D(l),A.label=2;case 2:return[2]}})})}function k(l){var c=n.value.onDragOver;if(l.preventDefault(),L(l),l.dataTransfer)try{l.dataTransfer.dropEffect="copy"}catch{}return Y(l)&&c&&c(l),!1}function b(l){l.preventDefault(),L(l);var c=u.value.filter(function(D){if(!t.value)return!1;var w=t.value.$el||t.value;return w.contains(D)}),g=c.indexOf(l.target);if(g!==-1&&c.splice(g,1),u.value=c,!(c.length>0)){a.draggedFiles=[],a.isDragActive=!1;var y=n.value.onDragLeave;Y(l)&&y&&y(l)}}function R(l){l.preventDefault(),L(l),u.value=[];var c=n.value,g=c.getFilesFromEvent,y=c.noDragEventsBubbling,D=c.accept,w=c.minSize,A=c.maxSize,$=c.multiple,N=c.maxFiles,H=c.onDrop,U=c.onDropRejected,W=c.onDropAccepted;if(Y(l)){if(!g)return;Promise.resolve(g(l)).then(function(Ee){if(!(Z(l)&&!y)){var _=[],M=[];Ee.forEach(function(j){var oe=De(j,D),xe=oe[0],Fe=oe[1],ie=we(j,w,A),ke=ie[0],Ce=ie[1];if(xe&&ke)_.push(j);else{var Oe=[Fe,Ce].filter(function(Ae){return Ae});M.push({file:j,errors:Oe})}}),(!$&&_.length>1||$&&N>=1&&_.length>N)&&(_.forEach(function(j){M.push({file:j,errors:[ut]})}),_.splice(0)),a.acceptedFiles=_,a.fileRejections=M,H&&H(_,M,l),M.length>0&&U&&U(M,l),_.length>0&&W&&W(_,l)}})}a.isFileDialogActive=!1,a.isDragActive=!1,a.draggedFiles=[],a.acceptedFiles=[],a.fileRejections=[]}var C=function(l){return n.value.disabled?void 0:l},P=function(l){return n.value.noKeyboard?void 0:C(l)},T=function(l){return n.value.noDrag?void 0:C(l)},J=function(l){l===void 0&&(l={});var c=l.onFocus,g=l.onBlur,y=l.onClick,D=l.onDragEnter,w=l.onDragenter,A=l.onDragOver,$=l.onDragover,N=l.onDragLeave,H=l.onDragleave,U=l.onDrop,W=de(l,["onFocus","onBlur","onClick","onDragEnter","onDragenter","onDragOver","onDragover","onDragLeave","onDragleave","onDrop"]);return m(m({onFocus:P(F(c,f)),onBlur:P(F(g,p)),onClick:C(F(y,i)),onDragenter:T(F(D,w,ne)),onDragover:T(F(A,$,k)),onDragleave:T(F(N,H,b)),onDrop:T(F(U,R)),ref:t},!n.value.disabled&&!n.value.noKeyboard?{tabIndex:0}:{}),W)},Q=function(l){l.stopPropagation()};function h(l){l===void 0&&(l={});var c=l.onChange,g=l.onClick,y=de(l,["onChange","onClick"]),D={accept:n.value.accept,multiple:n.value.multiple,style:"display: none",type:"file",onChange:C(F(c,R)),onClick:C(F(g,Q)),autoComplete:"off",tabIndex:-1,ref:o};return m(m({},D),y)}var X=K(function(){return a.draggedFiles?a.draggedFiles.length:0}),ae=K(function(){return X.value>0&&vt({files:a.draggedFiles,accept:n.value.accept,minSize:n.value.minSize,maxSize:n.value.maxSize,multiple:n.value.multiple,maxFiles:n.value.maxFiles})}),_e=K(function(){return X.value>0&&!ae.value});return m(m({},Te(a)),{isDragAccept:ae,isDragReject:_e,isFocused:K(function(){return a.isFocused&&!n.value.disabled}),getRootProps:J,getInputProps:h,rootRef:t,inputRef:o,open:C(r)})}const mt={class:"flex items-center border-b border-slate-200 pb-3 justify-between"},ht=d("div",{class:"text-xl font-semibold"},[d("span",null,"Pustaka Gambar")],-1),bt=d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.6em",height:"1.6em",viewBox:"0 0 24 24"},[d("g",{fill:"none",stroke:"black","stroke-width":"1.5"},[d("circle",{cx:"12",cy:"12",r:"10"}),d("path",{"stroke-linecap":"round",d:"m14.5 9.5l-5 5m0-5l5 5"})])],-1),yt=[bt],Dt={class:"w-full"},wt={key:0,class:"block md:flex pt-6"},_t={class:"bg-[#F6F7F7] flex-1 px-6 pt-4"},Et=d("div",{class:"text-xl font-semibold mb-4"},"Gambar Dipilih",-1),xt=["src"],Ft={class:"flex pb-4"},kt=d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",viewBox:"0 0 36 36"},[d("path",{fill:"white",d:"M6 9v22a2.93 2.93 0 0 0 2.86 3h18.23A2.93 2.93 0 0 0 30 31V9Zm9 20h-2V14h2Zm8 0h-2V14h2Z",class:"clr-i-solid clr-i-solid-path-1"}),d("path",{fill:"white",d:"M30.73 5H23V4a2 2 0 0 0-2-2h-6.2A2 2 0 0 0 13 4v1H5a1 1 0 1 0 0 2h25.73a1 1 0 0 0 0-2",class:"clr-i-solid clr-i-solid-path-2"}),d("path",{fill:"none",d:"M0 0h36v36H0z"})],-1),Ct={class:"w-full md:w-3/4 mt-10 md:mt-0 px-3 md:px-8 grid grid-cols-2 md:grid-cols-4 gap-8"},Ot=["onClick"],At=["src"],It={key:0,class:"absolute right-[2px] top-0",xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 16 16"},St=d("path",{fill:"#10B981",d:"M4.5 2A2.5 2.5 0 0 0 2 4.5v7A2.5 2.5 0 0 0 4.5 14h7a2.5 2.5 0 0 0 2.5-2.5v-7A2.5 2.5 0 0 0 11.5 2zm6.354 4.854l-3.5 3.5a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 9.293l3.146-3.147a.5.5 0 0 1 .708.708"},null,-1),Lt=[St],Pt={key:1},Tt=d("p",{class:"text-xl font-semibold"},"Drop files to upload",-1),Mt=d("p",{class:"w-fit mx-auto my-3"},"atau",-1),jt={class:"flex justify-center"},Rt={key:0},Bt={data:()=>({openModal:!1}),props:["open"],watch:{open(){this.openModal=this.open}},methods:{closeModal(){this.openModal=!1,this.$emit("onCloseModal")}}},Gt=Object.assign(Bt,{__name:"MediaLibrary",emits:["onImageSelected","onCloseModal"],setup(e,{emit:n}){const t=O(!1),o=O("listImage"),a=O([]),r=O(""),s=n;me(async()=>{await f()});async function f(){a.value=await $fetch("http://api.desaku.muhichsan.com/api/image"),r.value=a.value[1]}async function p(k){const b=new FormData;b.append("image",k[0]),t.value=!0,await $fetch("http://api.desaku.muhichsan.com/api/image",{body:b,method:"POST"}),setTimeout(async()=>{t.value=!1,await f(),o.value="listImage"},1e3)}async function i(){r.value=r.value.replace("http://api.desaku.muhichsan.com/storage/",""),await $fetch("http://api.desaku.muhichsan.com/api/image/"+r.value,{method:"DELETE"}),await f()}function u(){s("onImageSelected",r.value),s("onCloseModal")}const{getRootProps:v,getInputProps:L,...ne}=gt({onDrop:p});return(k,b)=>{const R=B("v-tab"),C=B("v-tabs"),P=B("v-btn"),T=Ie,J=B("v-card"),Q=B("v-dialog");return E(),le(Q,{modelValue:k.openModal,"onUpdate:modelValue":b[2]||(b[2]=h=>k.openModal=h),width:"75%"},{default:x(()=>[I(J,{height:"auto",style:{"scrollbar-width":"none"}},{title:x(()=>[d("div",mt,[ht,d("div",{onClick:b[0]||(b[0]=(...h)=>k.closeModal&&k.closeModal(...h)),class:"cursor-pointer"},yt)])]),text:x(()=>[d("div",Dt,[I(C,{"align-tabs":"start",modelValue:o.value,"onUpdate:modelValue":b[1]||(b[1]=h=>o.value=h),"fixed-tabs":""},{default:x(()=>[I(R,{value:"uploadImage"},{default:x(()=>[ee(" Upload Gambar ")]),_:1}),I(R,{value:"listImage"},{default:x(()=>[ee(" Semua Gambar ")]),_:1})]),_:1},8,["modelValue"]),o.value=="listImage"?(E(),S("div",wt,[d("div",_t,[Et,r.value?(E(),S("img",{key:0,src:r.value},null,8,xt)):se("",!0),d("div",Ft,[I(P,{onClick:u,color:"#10B981",class:"w-fit mt-6 text-white px-3 mx-1 mb-2 py-2 text-md"},{default:x(()=>[ee("Pilih Gambar")]),_:1}),I(P,{onClick:i,color:"#FC4100",class:"w-fit mt-6 text-white px-1 mx-1 mb-2 py-2 text-md"},{default:x(()=>[kt]),_:1})])]),d("div",Ct,[(E(!0),S(Me,null,je(a.value,h=>(E(),S("div",{onClick:X=>r.value=h,class:Re([{"border-4 border-[#10B981]":r.value==h},"relative cursor-pointer h-[146px] items-center flex"])},[d("img",{class:"object-cover w-full",style:{height:"139px"},src:h},null,8,At),r.value==h?(E(),S("svg",It,Lt)):se("",!0)],10,Ot))),256))])])):(E(),S("div",Pt,[d("div",Be({class:"flex justify-center items-center h-[300px]"},ue(v)()),[d("input",ze(Ve(ue(L)())),null,16),d("div",null,[Tt,Mt,d("div",jt,[I(P,{color:"#10B981"},{default:x(()=>[t.value?(E(),le(T,{key:1})):(E(),S("span",Rt,"Upload Gambar"))]),_:1})])])],16)]))])]),_:1})]),_:1},8,["modelValue"])}}});export{Gt as _};
