import{_ as g}from"./Loader.d20492d8.js";import{u as b,c as n,a as e,b as d,w as r,F as f,d as _,r as u,o as s,m as k,f as h,l as A}from"./entry.ef846a3b.js";const x=e("div",{class:"flex justify-between items-center mb-3"},[e("div",{class:"text-2xl font-semibold mb-2"},"Lokasi Desa")],-1),L={class:"grid animate-fade mb-6"},y={class:"col-12"},C={class:"card"},V={class:"block"},B={class:"mb-6 flex w-full"},U={class:"w-1/3 flex-none"},M={class:"flex-none flex pt-3"},P=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.8em",height:"1.8em",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v14m-7-7h14"})],-1),$=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.7em",height:"1.7em",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7h16m-10 4v6m4-6v6M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12M9 7V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"})],-1),z=e("div",{class:"mb-3 text-lg font-medium my-1 mt-6"},"Embed Maps Desa",-1),I={class:"mt-5 w-full"},j=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.2em",viewBox:"0 0 256 367"},[e("path",{fill:"#34a853",d:"M70.585 271.865a370.712 370.712 0 0 1 28.911 42.642c7.374 13.982 10.448 23.463 15.837 40.31c3.305 9.308 6.292 12.086 12.714 12.086c6.998 0 10.173-4.726 12.626-12.035c5.094-15.91 9.091-28.052 15.397-39.525c12.374-22.15 27.75-41.833 42.858-60.75c4.09-5.354 30.534-36.545 42.439-61.156c0 0 14.632-27.035 14.632-64.792c0-35.318-14.43-59.813-14.43-59.813l-41.545 11.126l-25.23 66.451l-6.242 9.163l-1.248 1.66l-1.66 2.078l-2.914 3.319l-4.164 4.163l-22.467 18.304l-56.17 32.432z"}),e("path",{fill:"#fbbc04",d:"M12.612 188.892c13.709 31.313 40.145 58.839 58.031 82.995l95.001-112.534s-13.384 17.504-37.662 17.504c-27.043 0-48.89-21.595-48.89-48.825c0-18.673 11.234-31.501 11.234-31.501l-64.489 17.28z"}),e("path",{fill:"#4285f4",d:"M166.705 5.787c31.552 10.173 58.558 31.53 74.893 63.023l-75.925 90.478s11.234-13.06 11.234-31.617c0-27.864-23.463-48.68-48.81-48.68c-23.969 0-37.735 17.475-37.735 17.475v-57z"}),e("path",{fill:"#1a73e8",d:"M30.015 45.765C48.86 23.218 82.02 0 127.736 0c22.18 0 38.89 5.823 38.89 5.823L90.29 96.516H36.205z"}),e("path",{fill:"#ea4335",d:"M12.612 188.892S0 164.194 0 128.414c0-33.817 13.146-63.377 30.015-82.649l60.318 50.759z"})],-1),F=["innerHTML"],D={key:0,class:"capitalize"},H={data(){return{loading:!1,formAlamat:[{name:"Provinsi",value:null}],form:{desa:null,kecamatan:null,kelurahan:null,rt:null,rw:null,kabupaten:null,provinsi:null,maps:null}}},async mounted(){await this.loadData(),await this.loadAlamat()},methods:{async loadData(){const l=await $fetch(this.$config.public.API_PUBLIC_URL+"/api/location");this.form=l},async loadAlamat(){const l=await $fetch(this.$config.public.API_PUBLIC_URL+"/api/address");this.formAlamat=l},async updateLocation(){const{valid:l}=await this.$refs.form.validate();l&&(this.loading=!0,await this.updateAlamat(),await $fetch(this.$config.public.API_PUBLIC_URL+"/api/location",{method:"PATCH",headers:{Authorization:"Bearer "+_().token},body:this.form}),this.loading=!1)},async updateAlamat(){await $fetch(this.$config.public.API_PUBLIC_URL+"/api/address",{method:"POST",headers:{Authorization:"Bearer "+_().token},body:{address:this.formAlamat}})},addAlamat(){this.formAlamat.push({name:null,value:null})},removeAlamat(l){this.formAlamat=this.formAlamat.filter((t,i)=>i!=l)}}},R=Object.assign(H,{__name:"Location",setup(l){return b({title:"Pengaturan Lokasi"}),(t,i)=>{const m=u("v-text-field"),c=u("v-btn"),v=u("v-form"),w=g;return s(),n(f,null,[x,e("div",L,[e("div",y,[e("div",C,[d(v,{ref:"form"},{default:r(()=>[e("div",V,[(s(!0),n(f,null,k(t.formAlamat,(o,p)=>(s(),n("div",B,[e("div",U,[d(m,{rules:[a=>!!a||"Field is required"],modelValue:o.name,"onUpdate:modelValue":a=>o.name=a,variant:"outlined","hide-details":"auto",label:"Nama Sosial Media"},null,8,["rules","modelValue","onUpdate:modelValue"])]),d(m,{rules:[a=>!!a||"Field is required"],class:"mx-3",modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,variant:"outlined","hide-details":"auto",label:"Link"},null,8,["rules","modelValue","onUpdate:modelValue"]),e("div",M,[p==t.formAlamat.length-1?(s(),h(c,{key:0,onClick:i[0]||(i[0]=a=>t.addAlamat()),color:"#10B981",style:{height:"40px !important",width:"20px !important",padding:"0 0px !important"}},{default:r(()=>[P]),_:1})):(s(),h(c,{key:1,onClick:a=>t.removeAlamat(p),color:"#FC4100",style:{height:"40px !important",width:"20px !important",padding:"0 0px !important"}},{default:r(()=>[$]),_:2},1032,["onClick"]))])]))),256))]),z,e("div",I,[d(m,{rules:[o=>!!o||"Field is required"],modelValue:t.form.maps,"onUpdate:modelValue":i[1]||(i[1]=o=>t.form.maps=o),variant:"outlined","hide-details":"auto",label:"Koordinat Desa",placeholder:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d13775.689247611277!2d110.4623105457275!3d-7.719445311589754!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e7a5b002c9e90df%3A0x23b5967fa1ba0b53!2sKledoan%20joglo's%20Villa!5e0!3m2!1sen!2sid!4v1715591524593!5m2!1sen!2sid"},{"prepend-inner":r(()=>[j]),_:1},8,["rules","modelValue"]),t.form.maps?(s(),n("div",{key:0,class:"mx-auto mt-6 flex justify-center",innerHTML:t.form.maps},null,8,F)):A("",!0)])]),_:1},512),d(c,{onClick:t.updateLocation,color:"#10B981",class:"mt-5 text-white px-3 py-2"},{default:r(()=>[t.loading?(s(),h(w,{key:1})):(s(),n("span",D,"Update"))]),_:1},8,["onClick"])])])])],64)}}});export{R as default};
