import{_ as b}from"./Loader.0b72b927.js";import{u as M,c as r,a as o,b as s,w as m,F as f,d as _,r as d,o as n,m as y,f as p}from"./entry.40e44078.js";const V=o("div",{class:"flex justify-between items-center mb-3"},[o("div",{class:"text-2xl font-semibold mb-2"},"Pengaturan Footer")],-1),S={class:"grid animate-fade mb-6"},C={class:"col-12"},U={class:"card"},x=o("div",{class:"mb-5 text-lg font-medium my-1"},"Sosial Media",-1),B={class:"block"},F={class:"mb-6 flex w-full"},P={class:"w-1/3 flex-none"},L={class:"flex-none flex pt-3"},$=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.8em",height:"1.8em",viewBox:"0 0 24 24"},[o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v14m-7-7h14"})],-1),I=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.7em",height:"1.7em",viewBox:"0 0 24 24"},[o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7h16m-10 4v6m4-6v6M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12M9 7V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"})],-1),A={key:0,class:"capitalize"},q={data(){return{form:{profile_desa:null,address:null,copyright:null},formSocialMedia:[{name:"Instagram",link:null}],social_media:["Instagram","Facebook","Whatsapp","Twitter","Youtube"],loading:!1}},async mounted(){await this.loadData(),await this.loadSocialMedia()},methods:{async loadData(){const i=await $fetch(this.$config.public.API_PUBLIC_URL+"/api/footer");this.form=i},async loadSocialMedia(){const i=await $fetch(this.$config.public.API_PUBLIC_URL+"/api/social-media");this.formSocialMedia=i},async updateFooter(){const{valid:i}=await this.$refs.form.validate();i&&(this.loading=!0,await this.updateSocialMedia(),await $fetch(this.$config.public.API_PUBLIC_URL+"/api/footer",{method:"PATCH",headers:{Authorization:"Bearer "+_().token},body:this.form}),this.loading=!1)},async updateSocialMedia(){await $fetch(this.$config.public.API_PUBLIC_URL+"/api/social-media",{method:"POST",headers:{Authorization:"Bearer "+_().token},body:{social_media:this.formSocialMedia}})},addSocialMedia(){this.formSocialMedia.push({name:null,link:null})},removeSocialMedia(i){this.formSocialMedia=this.formSocialMedia.filter((a,t)=>t!=i)}}},T=Object.assign(q,{__name:"Footer",setup(i){return M({title:"Pengaturan Footer"}),(a,t)=>{const u=d("v-textarea"),v=d("v-select"),g=d("v-text-field"),c=d("v-btn"),w=d("v-form"),k=b;return n(),r(f,null,[V,o("div",S,[o("div",C,[o("div",U,[s(w,{ref:"form"},{default:m(()=>[s(u,{rules:[e=>!!e||"Field is required"],rows:"3",variant:"outlined",label:"Profil Desa",clearable:"",modelValue:a.form.profile,"onUpdate:modelValue":t[0]||(t[0]=e=>a.form.profile=e)},null,8,["rules","modelValue"]),s(u,{rules:[e=>!!e||"Field is required"],rows:"2",variant:"outlined",label:"Alamat Lengkap",clearable:"",modelValue:a.form.address,"onUpdate:modelValue":t[1]||(t[1]=e=>a.form.address=e)},null,8,["rules","modelValue"]),s(u,{rules:[e=>!!e||"Field is required"],rows:"2",variant:"outlined",label:"Copyright",clearable:"",modelValue:a.form.copyright,"onUpdate:modelValue":t[2]||(t[2]=e=>a.form.copyright=e)},null,8,["rules","modelValue"]),x,o("div",B,[(n(!0),r(f,null,y(a.formSocialMedia,(e,h)=>(n(),r("div",F,[o("div",P,[s(v,{items:a.social_media,rules:[l=>!!l||"Field is required"],modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,variant:"outlined","hide-details":"auto",label:"Nama Sosial Media"},null,8,["items","rules","modelValue","onUpdate:modelValue"])]),s(g,{rules:[l=>!!l||"Field is required"],class:"mx-3",modelValue:e.link,"onUpdate:modelValue":l=>e.link=l,variant:"outlined","hide-details":"auto",label:"Link"},null,8,["rules","modelValue","onUpdate:modelValue"]),o("div",L,[h==a.formSocialMedia.length-1?(n(),p(c,{key:0,onClick:t[3]||(t[3]=l=>a.addSocialMedia()),color:"#10B981",style:{height:"40px !important",width:"20px !important",padding:"0 0px !important"}},{default:m(()=>[$]),_:1})):(n(),p(c,{key:1,onClick:l=>a.removeSocialMedia(h),color:"#FC4100",style:{height:"40px !important",width:"20px !important",padding:"0 0px !important"}},{default:m(()=>[I]),_:2},1032,["onClick"]))])]))),256))])]),_:1},512),s(c,{onClick:a.updateFooter,color:"#10B981",class:"mt-1 text-white px-3 py-2"},{default:m(()=>[a.loading?(n(),p(k,{key:1})):(n(),r("span",A,"Update"))]),_:1},8,["onClick"])])])])],64)}}});export{T as default};
