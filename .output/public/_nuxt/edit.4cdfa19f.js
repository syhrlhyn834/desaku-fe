import{_}from"./RichEditor.e135f505.js";import{_ as f}from"./Loader.2f484b9d.js";import{u as p,c as d,a as n,b as s,f as m,l as b,w as g,d as v,r as u,o}from"./entry.287ce2af.js";const C={class:"grid animate-fade"},k={class:"col-12"},y={class:"card"},V=n("h3",{class:"text-2xl font-medium mb-5"},"Ubah Pengumuman",-1),B={class:"mb-8"},P={class:"mb-8"},U=n("div",{class:"mb-3 text-lg font-medium my-1"},"Konten",-1),$={key:0,class:"capitalize"},A={data(){return{modalRemoveThumbnail:!1,data:null,image:null,renderRichEditor:!1,thumbnailDeleted:!1,loading:!1,form:{title:null,category:null,description:null,content:null,thumbnail:""}}},async mounted(){const t=await $fetch(this.$config.public.API_PUBLIC_URL+"/api/announcement/"+this.$route.query.id);this.form=t,this.data=t.content,this.renderRichEditor=!0},methods:{async updateAnnouncement(){if(this.loading=!0,this.thumbnailDeleted){let t=await this.uploadThumbnail();this.form.thumbnail=t}this.form.content=this.data,await $fetch(this.$config.public.API_PUBLIC_URL+"/api/announcement/"+this.$route.query.id,{method:"PATCH",headers:{Authorization:"Bearer "+v().token},body:this.form}),this.loading=!1,this.$router.push("/dashboard/announcement")},contentChange(t){this.data=t}}},I=Object.assign(A,{__name:"edit",setup(t){return p({title:"Edit Announcement"}),(e,a)=>{const l=u("v-text-field"),r=_,c=f,h=u("v-btn");return o(),d("div",C,[n("div",k,[n("div",y,[V,n("div",B,[s(l,{modelValue:e.form.title,"onUpdate:modelValue":a[0]||(a[0]=i=>e.form.title=i),variant:"outlined","hide-details":"auto",label:"Judul Pengumuman"},null,8,["modelValue"])]),n("div",P,[s(l,{modelValue:e.form.description,"onUpdate:modelValue":a[1]||(a[1]=i=>e.form.description=i),variant:"outlined","hide-details":"auto",label:"Deksripsi Pengumuman"},null,8,["modelValue"])]),U,e.renderRichEditor?(o(),m(r,{key:0,data:e.data,onContentChange:e.contentChange},null,8,["data","onContentChange"])):b("",!0),s(h,{onClick:e.updateAnnouncement,color:"#10B981",class:"mt-5 text-white px-3 py-2"},{default:g(()=>[e.loading?(o(),m(c,{key:1})):(o(),d("span",$,"Ubah"))]),_:1},8,["onClick"])])])])}}});export{I as default};
