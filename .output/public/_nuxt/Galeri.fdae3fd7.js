import{_ as T,i as n,G as B,O as E,V as P,j as C,u as A,c as d,b as g,w as D,a as t,F as I,n as $,l as i,q as k,r as S,o as c,t as b,p as H,f as F}from"./entry.35206c58.js";import{_ as N}from"./BreadCrumb.693ed4de.js";import{P as R}from"./photoswipe.2681c699.js";const w=u=>(H("data-v-48204649"),u=u(),F(),u),q={class:"animate-fade flex-1 px-[2rem] sm:px-[6rem] md:px-[3rem] lg:px-[10rem] xl:px-[14rem] pt-6"},O=w(()=>t("span",null,"Galeri Desa",-1)),U={class:"pb-[1rem]"},Z=w(()=>t("h1",{class:"mb-2 font-semibold text-[#0088CC] text-2xl"},"Galeri Video",-1)),j={class:"grid grid-cols-1 md:grid-cols-3 md:gap-[2rem]"},Y=["src"],J={class:"rounded-b-lg py-3 px-2 font-medium text-base md:text-lg backdrop-blur-sm bg-white/30 shadow-sm border border-slate-100"},K={class:"line-clamp-1"},Q={class:"pb-[6rem]"},W=w(()=>t("h1",{class:"mb-8 font-semibold text-[#0088CC] text-2xl"},"Galeri Foto",-1)),X={id:"gallery",class:"grid grid-cols-1 md:grid-cols-3 gap-[2rem] md:gap-y-[2rem]"},ee=["href"],te={class:"hidden-caption-content"},ae={class:"rounded-b-lg py-3 px-2 font-medium text-base md:text-lg backdrop-blur-sm bg-white/30 shadow-sm border border-slate-100"},le={class:"line-clamp-1"},oe={__name:"Galeri",async setup(u){let p,m;const s=n(null),h=n([]),v=n([]),o=n(1),y=n(0),x=n(0);B(async()=>{await E(()=>{s.value||(s.value=new R({gallery:"#gallery",children:"a",pswpModule:()=>P(()=>import("./photoswipe.esm.3ee328cd.js"),[],import.meta.url)}),s.value.on("uiRegister",function(){s.value.pswp.ui.registerElement({name:"download-button",order:8,isButton:!0,tagName:"a",html:{isCustomSVG:!0,inner:'<path d="M20.5 14.3 17.1 18V10h-2.2v7.9l-3.4-3.6L10 16l6 6.1 6-6.1ZM23 23H9v2h14Z" id="pswp__icn-download"/>',outlineID:"pswp__icn-download"},onInit:(e,a)=>{e.setAttribute("download",""),e.setAttribute("target","_blank"),e.setAttribute("rel","noopener"),a.on("change",()=>{console.log("change"),e.href=a.currSlide.data.src})}}),s.value.pswp.ui.registerElement({name:"custom-caption",order:9,isButton:!1,appendTo:"root",html:"Caption text",onInit:(e,a)=>{s.value.pswp.on("change",()=>{const _=s.value.pswp.currSlide.data.element;let r="";_&&(r=_.querySelector(".hidden-caption-content").innerHTML),e.innerHTML=r})}})}),s.value.init())})});async function G(){const{data:e,total:a}=await $fetch(`/api/image-gallery?limit=9&page=${o.value}`);h.value=e,x.value=Math.ceil(a/9)}async function L(){const{data:e,total:a}=await $fetch(`/api/video-gallery?limit=3&page=${o.value}`);v.value=e,y.value=Math.ceil(a/3)}[p,m]=C(()=>L()),await p,m(),[p,m]=C(()=>G()),await p,m();async function M(){const{data:e}=await $fetch(`/api/video-gallery?limit=3&page=${o.value}`);v.value=e}async function z(){const{data:e}=await $fetch(`/api/image-gallery?limit=9&page=${o.value}`);h.value=e}return A({title:"Galeri Desa"}),(e,a)=>{const _=N,r=S("v-pagination"),V=S("v-img");return c(),d("div",q,[g(_,null,{root:D(()=>[O]),_:1}),t("div",U,[Z,t("div",j,[(c(!0),d(I,null,$(i(v),(l,f)=>(c(),d("a",{class:"relative w-full rounded-lg animate-fade",key:f,target:"_blank",rel:"noreferrer"},[t("iframe",{class:"mt-6 rounded-t-lg shadow-sm",width:"100%",height:"245",loading:"lazy",src:l.url,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,Y),t("div",J,[t("span",K,b(l.description),1)])]))),128))]),g(r,{size:e.$vuetify.display.mobile?"small":"default",class:"mt-4 mb-6 md:mb-10",modelValue:i(o),"onUpdate:modelValue":[a[0]||(a[0]=l=>k(o)?o.value=l:null),M],"total-visible":5,length:i(y)},null,8,["size","modelValue","length"])]),t("div",Q,[W,t("div",X,[(c(!0),d(I,null,$(i(h),(l,f)=>(c(),d("a",{class:"w-full cursor-pointer rounded-lg",key:f,href:l.url,"data-pswp-width":"600","data-pswp-height":"400",target:"_blank",rel:"noreferrer"},[t("div",te,b(l.description),1),g(V,{"lazy-src":l.url,class:"w-full rounded-t-lg",height:"300",src:l.url,alt:""},null,8,["lazy-src","src"]),t("div",ae,[t("span",le,b(l.description),1)])],8,ee))),128))]),g(r,{size:e.$vuetify.display.mobile?"small":"default",class:"mt-4 mb-6 md:mb-10",modelValue:i(o),"onUpdate:modelValue":[a[1]||(a[1]=l=>k(o)?o.value=l:null),z],"total-visible":5,length:i(x)},null,8,["size","modelValue","length"])])])}}},re=T(oe,[["__scopeId","data-v-48204649"]]);export{re as default};
